// <auto-generated>
// This source code was auto-generated by LayoutInstallerGenerator.cs
// </auto-generated>

using AnotherECS.Core;
using AnotherECS.Gen.Common;

namespace AnotherECS.Gen.Project
{
    public static class LayoutInstaller
    {
<#ARRAY [0..COMPONENT:COUNT]#>
---<#IF INJECT#>
        public static void Add_<#COMPONENT:FULL_NAME_AS_TEXT#>(State state)
        {
            state.AddLayout<<#CALLER:TYPE_NAME#>_Caller<<#COMPONENT:FULL_NAME#>>, <#COMPONENT:FULL_NAME#>>(new ComponentFunction<<#COMPONENT:FULL_NAME#>>() { construct = &Construct, deconstruct = &Deconstruct });

            static void Construct(ref InjectContainer injectContainer, ref <#COMPONENT:FULL_NAME#> component)
            {
#if ANOTHERECS_DEBUG
                ReflectionUtils.ReflectionInjectConstruct(ref component, ref injectContainer);
#else
------<#IF INJECT:SELF#>
                component.Construct(<#INJECT:SELF:ARGS#>);
------<#END#>
------<#ARRAY [0..INJECT:FIELD:COUNT]#>
                component.<#INJECT:FIELD:NAME#>.Construct(<#INJECT:FIELD:ARGS#>);
------<#END#>
#endif
            }

            static void Deconstruct(ref InjectContainer injectContainer, ref <#COMPONENT:FULL_NAME#> component)
            {
#if ANOTHERECS_DEBUG
                ReflectionUtils.ReflectionInjectDeconstruct(ref component, ref injectContainer);
#else
------<#IF INJECT:SELF#>
                component.Deconstruct();
------<#END#>
------<#ARRAY [0..INJECT:FIELD:COUNT]#>
                component.<#INJECT:FIELD:NAME#>.Deconstruct();
------<#END#>
#endif
            }
        }
---<#ELSE#>
        public static void Add_<#COMPONENT:FULL_NAME_AS_TEXT#>(State state)
        {
            state.AddLayout<<#CALLER:TYPE_NAME#>_Caller<<#COMPONENT:FULL_NAME#>>, <#COMPONENT:FULL_NAME#>>();
        }
---<#END#>
<#END#>
    }
}        
        